{% extends 'base.html' %}
{% load static %}
{% block head %}
<link rel="stylesheet" type="text/css" href="{% static 'css/index.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'css/attendance_teacher.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'css/dashboard_teacher.css' %}" />
{% endblock head %}
{% block title %}Attendance{% endblock title %}
{% block body %}
<aside id="sidebar" class="expanded">
    <div id="sidebar-container">
        <button id="sidebar-toggle" class="user-interactive"><img src="../../static/icons/back-arrow.svg"></button>
        <section id="sidebar-search">
            <input type="text" placeholder="Search" id="sidebar-search-input" />
            <button id="sidebar-search-btn" class="user-interactive">
                <i class="fa fa-search"></i>
            </button>
        </section>
        <section id="sidebar-items-container">
            <ul id="sidebar-items">
                <li class="sidebar-item selected">
                    <i class="fa fa-dashboard"></i><span class="item-name">Dashboard</span>
                </li>
                <li class="sidebar-item">
                    <i class="fa fa-bell"></i><span class="item-name">Notifications</span>
                </li>
                <li class="sidebar-item">
                    <i class="fa fa-check-square"></i><span class="item-name">Attendance</span>
                </li>
                <li class="sidebar-item">
                    <i class="fa fa-clock-o"></i><span class="item-name">Time Table</span>
                </li>
                <li class="sidebar-item">
                    <i class="fa fa-bullhorn"></i><span class="item-name">Announcements</span>
                </li>
                <li class="sidebar-item">
                    <i class="fa fa-money"></i><span class="item-name">Fee</span>
                </li>
            </ul>
            <ul id="special-sidebar-items">
                <li class="sidebar-item">
                    <i class="fa fa-cog"></i><span class="item-name">Settings</span>
                </li>
            </ul>
        </section>
    </div>
</aside>
<main id="workspace" class="collapsed">
    <table class="title-holder">
        <tr>
            <td>
            </td>
            <td>
                <h1 id="workspace-title">Attendance</h1>
            </td>
        </tr>
    </table>
    <!--<section class="notification red"><span>This is an example of a red message</span><button
            class="dismiss user-interactive"><img src="{% static 'icons/cross.svg'%}" height="24px" /></button>
    </section> -->
    {% if messages %}
    {%for message in messages%}
    <section class="notification blue">
        <span>{{message}}</span>
    </section>
    {% endfor %}
    {% endif %}
    <section class="btn-grp-type1">
        <table id="options-band"><!--see dashboard_teacher.css-->
            <tr>
                <td>
                    <button class="user-interactive">
                        <table class="btn-layout">
                            <tr>
                                <td class="img-holder">
                                    <img src="../../static/icons/view-trends-icon.svg" class="filter-blue"/>
                                </td>
                            </tr>
                            <tr>
                                <td class="txt-holder">
                                    View Trends
                                </td>
                            </tr>
                        </table>
                    </button>
                </td>
                <td>
                    <button class="user-interactive">
                        <table class="btn-layout">
                            <tr>
                                <td class="img-holder">
                                    <img src="../../static/icons/request-other-attendance-icon.svg" class="filter-blue"/>
                                </td>
                            </tr>
                            <tr>
                                <td class="txt-holder">
                                    Request Other Attendance
                                </td>
                            </tr>
                        </table>
                    </button>
                </td>
                <td>
                    <button class="user-interactive">
                        <table class="btn-layout">
                            <tr>
                                <td class="img-holder">
                                    <img src="../../static/icons/extra-class-icon.svg" class="filter-blue"/>
                                </td>
                            </tr>
                            <tr>
                                <td class="txt-holder">
                                    Extra Class
                                </td>
                            </tr>
                        </table>
                    </button>
                </td>
                <td>
                    <button class="user-interactive">
                        <table class="btn-layout">
                            <tr>
                                <td class="img-holder">
                                    <img src="../../static/icons/merge-classes-icon.svg" class="filter-blue"/>
                                </td>
                            </tr>
                            <tr>
                                <td class="txt-holder">
                                    Merge Classes
                                </td>
                            </tr>
                        </table>
                    </button>
                </td>
                <td>
                    <button class="user-interactive">
                        <table class="btn-layout">
                            <tr>
                                <td class="img-holder">
                                    <img src="../../static/icons/applications-icon.svg" class="filter-blue"/>
                                </td>
                            </tr>
                            <tr>
                                <td class="txt-holder">
                                    Applications
                                </td>
                            </tr>
                        </table>
                    </button>
                </td>
                <td>
                    <button class="user-interactive">
                        <table class="btn-layout">
                            <tr>
                                <td class="img-holder">
                                    <img src="../../static/icons/submit-attendance-icon.svg" class="filter-blue"/>
                                </td>
                            </tr>
                            <tr>
                                <td class="txt-holder">
                                    Submit Attendance
                                </td>
                            </tr>
                        </table>
                    </button>
                </td>
            </tr>
        </table>
    </section>
    <section id="classes">
        <h2 class="section-title">Classes</h2>
        <form class="ib">
            <!--'ib' stands for inline-block-->
            <button class="theme" type="button">Today</button>
            <select class="theme">
                <option value="marked">Marked</option>
                <option value="unmarked">Unmarked</option>
                <option value="all">All</option>
            </select>
        </form>
        <table id="classes-viewer" width="100%" cellspacing="0">
            {%for key,values in data.items%}
            {% if values.status %}
            <tr class="class-row">
                <td class="class-details">
                    <span class="class-name">Class<span class="class-identifier">{{values.class}}
                            {{values.section}}</span></span>
                    <span class="no-of-students">Total Students:<span
                            class="student-count">{{values.total}}</span></span>
                </td>
                <td class="absent-details">
                    <span class="absent-text">Absent</span>
                    <span class="absent-count">{{values.absent}}</span>
                </td>
                <td class="present-details">
                    <span class="present-text">Present</span>
                    <span class="present-count">{{values.present}}</span>
                </td>
                <td class="attendance-trend">
                    <div class="progress-container">
                        <div class="progress-line"></div>
                    </div>
                    <span class="progress-percentage"><span class="percentage-count">92</span>%</span>
                </td>
                <td class="actions">
                    <button class="accent-theme user-interactive"
                        onclick="window.location='/attendance/view/{{values.class}}/{{values.section}}'">View</button>
                    <button class="accent-theme user-interactive"
                        onclick="window.location='/attendance/edit/{{values.class}}/{{values.section}}'">Edit</button>
                </td>
            </tr>
            {% else %}
            <tr class="class-row">
                <td class="class-details">
                    <span class="class-name">Class<span class="class-identifier">{{values.class}}
                            {{values.section}}</span></span>
                    <span class="no-of-students">Total Students:<span
                            class="student-count">{{values.total}}</span></span>
                </td>
                <td class="unmarked-msg" colspan="3">
                    Attendance for this day is not marked yet.
                </td>
                <td class="actions">
                    <button class="accent-theme user-interactive"
                        onclick="window.location='/attendance/mark/{{values.class}}/{{values.section}}'">Mark
                        Attendance</button>
                </td>
            </tr>
            {% endif %}
            {% endfor %}
        </table>
    </section>
</main>
<script src="../../static/js/sidebar_navigator.js"></script>
<script src="../../static/js/options_band_animation.js"></script>
<script src="../../static/js/attendance_progress_bar.js"></script>
{% endblock body %}